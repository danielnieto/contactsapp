{% extends "contactsapp/base.html" %}
{% block content %}
    <form action="{% url 'contacts' %}" method="get" class="tool-bar">
        <label for="search">Search Term</label>
        <input id="search"
               type="search"
               name="q"
               value="{{ search | default:'' }}"
               hx-get="{% url 'contacts' %}"
               hx-trigger="search, keyup delay:200ms changed"
               hx-target="tbody"
               hx-push-url="true"
               hx-indicator="#indicator" />
        <input type="submit" value="Search" />
        <svg id="indicator"
             class="htmx-indicator"
             xmlns:svg="http://www.w3.org/2000/svg"
             xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.0"
             width="24px"
             height="24px"
             viewBox="0 0 128 128"
             xml:space="preserve">
            <g>
            <path d="M59.6 0h8v40h-8V0z" fill="#000000" />
            <path d="M59.6 0h8v40h-8V0z" fill="#cccccc" transform="rotate(30 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#cccccc" transform="rotate(60 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#cccccc" transform="rotate(90 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#cccccc" transform="rotate(120 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#b2b2b2" transform="rotate(150 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#999999" transform="rotate(180 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#7f7f7f" transform="rotate(210 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#666666" transform="rotate(240 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#4c4c4c" transform="rotate(270 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#333333" transform="rotate(300 64 64)" />
            <path d="M59.6 0h8v40h-8V0z" fill="#191919" transform="rotate(330 64 64)" />
            <animateTransform attributeName="transform" type="rotate" values="0 64 64;30 64 64;60 64 64;90 64 64;120 64 64;150 64 64;180 64 64;210 64 64;240 64 64;270 64 64;300 64 64;330 64 64" calcMode="discrete" dur="1080ms" repeatCount="indefinite"></animateTransform>
            </g>
        </svg>
    </form>
    <table class="width:100%">
        <thead>
            <tr>
                <th>First</th>
                <th>Last</th>
                <th>Phone</th>
                <th>Email</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% include "contacts/list.html" %}
        </tbody>
    </table>
    <p>
        <a href="{% url 'contacts_create' %}">Add Contact</a>
    </p>
{% endblock content %}
